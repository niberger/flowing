<?xml version="1.0"?>
<svg width="300px" height="200px">
  <style type="text/css">
    .functionOK{
      width: 32px;
      height: 20px;
      position:30,20;
      fill:#44cc11}
    .functionPending{
      width: 32px;
      height: 20px;
      position:30,20;
      fill:#999999}
    .function {
      width: 32px;
      height: 20px;
      position:30,20
    }
  </style>

  <g id="layer1">
    <path
      id="p1"
      d="m 0 30 c 10 0, 10 0, 20 0"
      style="fill:none;stroke:#000000" >
    </path>
    <circle id ="c1" r="3" cx="0" cy="0" fill="#44cc11" />
    <animateMotion 
      id="aCircle1"
      xlink:href="#c1" 
      begin="0s"
      dur="0.6s"
      fill="freeze">
      <mpath xlink:href="#p1" />
    </animateMotion>

    <rect
      id="f1"
      class="functionPending"
      x="20"
      y="20"
      height="20"
      width="32">
    </rect>
    <rect
      class="functionOK"
      x="20"
      y="20"
      height="20"
      width="0">
      <animate 
        id="aRect1"
        attributeName="width" 
        from="0" to="32" 
        begin="aCircle1.end"
        dur="1s"
        fill="freeze"/>
    </rect>

    <path
      id="p2"
      d="m 52 30 c 20 0, 10 -20, 30 -20"
      style="fill:none;stroke:#000000" >
    </path>
    <path
      id="p3"
      d="m 52 30 c 20 0, 10 20, 30 20"
      style="fill:none;stroke:#000000" >
    </path>
    <circle id ="c2" r="3" cx="0" cy="0" fill="#44cc11" visibility="hidden" />
    <animateMotion 
      id="aCircle2"
      xlink:href="#c2" 
      begin="aRect1.end"
      dur="1s"
      fill="freeze">
      <mpath xlink:href="#p2" />
    </animateMotion>
    <set xlink:href="#c2" 
      attributeName="visibility" 
      attributeType="XML" 
      from="hidden" 
      to="visible"
      begin="aCircle2.begin"/>
    <circle id ="c3" r="3" cx="0" cy="0" fill="#44cc11" visibility="hidden"/>
    <animateMotion 
      id="aCircle3"
      xlink:href="#c3" 
      begin="aRect1.end"
      dur="1s"
      fill="freeze">
      <mpath xlink:href="#p3" />
    </animateMotion>
    <set xlink:href="#c3" 
      attributeName="visibility" 
      attributeType="XML" 
      from="hidden" 
      to="visible"
      begin="aCircle3.begin"/>

    <rect
    x="82"
    y="0"
    height="20"
    width="32"
      style="fill:#999999">
    </rect>
    <rect
      x="82"
      y="0"
      height="20"
      width="0"
      style="fill:#44cc11">
      <animate 
        id="aRect2"
        attributeName="width" 
        from="0" to="32" 
        begin="aCircle2.end"
        dur="1s"
        fill="freeze"/>
    </rect>
    <rect
    x="82"
    y="40"
    height="20"
    width="32"
      style="fill:#999999">
    </rect>
    <rect
      x="82"
      y="40"
      height="20"
      width="0"
      style="fill:#44cc11">
      <animate 
        id="aRect2"
        attributeName="width" 
        from="0" to="32" 
        begin="aCircle3.end"
        dur="2s"
        fill="freeze"/>
    </rect>
  </g>
</svg>
